## 1.5 union-find

> 1. java比C++快，原因未知；[java和C++速度原因分析](java和C++速度对比.md)
>    1. C++使用vector慢？:x:  换成int数组也慢；
>    2. C++的sstream流读入慢 :x: 换成cin也一样慢；原因未知。
>    3. C++ -O3 -g0 也一样对结果没啥影响；

- C++实现：`algs4/algs4_cpluspuls/01-union-find/src`
- Java实现：`algs4/algs4_java/algs4-master-RQTN/algs4-master/src/union_find`

- 代码：`/home/dl/zhr/code/algs4/algs4_java/algs4-master-RQTN/algs4-master/src/union_find`

  - terminal: `javac-algs4 xxx.java`, `java-algs4 xxx` 这样才能找到algs4库的依赖；然后执行；

  ```bash
  ~/zhr/code/algs4/algs4_java/algs4-master-RQTN/algs4-master/src$ java-algs4 union_find.QuickFindUF < union_find/input/tiny.txt 
  # 这样才运行成功，也是不理解；
  包名：union_find
  路径：得在union_find上层文件夹
  输入：< 
  输出：>
   bash uf.bash union_find.QuickFindUF
   bash uf.bash union_find.QuickUnionUF
   bash uf.bash union_find.WeightedQuickUnionUF
   bash uf.bash union_find.WeightedQuickUnionPCUF
  ```

- java版本

| java                   | tiny  | medium | large      |
| ---------------------- | ----- | ------ | ---------- |
| QuickFindUF            | 1ms   | 8ms    | 36,674.0ms |
| QuickUnionUF           | 1ms   | 9ms    | 242.0ms    |
| WeightedQuickUnionUF   | 0.0ms | 7.0ms  | 253ms      |
| WeightedQuickUnionPCUF | 0.0ms | 7.0ms  | 264ms      |

- C++版本：

| C++                    | tiny | medium | large        |
| ---------------------- | ---- | ------ | ------------ |
| QuickFindUF            | 2ms  | 265ms  | 54,267,234ms |
| QuickUnionUF           | 2ms  | 181ms  | 68,318ms     |
| WeightedQuickUnionUF   | 2ms  | 168ms  | 72,089ms     |
| WeightedQuickUnionPCUF | 2ms  | 169ms  | 71,684ms     |

```bash
# usage: 
bash uf.bash build/QuickFindUF
bash uf.bash build/QuickUionUF
bash uf.bash build/WeightedQuickUnionUF
bash uf.bash build/WeightedQuickUnionPCUF
---
Input file: 2 components  cost 2 ms
Input file: 3 components  cost 265 ms
Input file: 757539 components  cost 54267234 ms
>>>  Input file: 2 components  cost 2 ms
>>>  Input file: 3 components  cost 181 ms
>>>  Input file: 757539 components  cost 68318 ms
---
>>>  Input file: 2 components  cost 2 ms
>>>  Input file: 3 components  cost 168 ms
>>>  Input file: 757539 components  cost 72089 ms
---
>>>  Input file: 2 components  cost 2 ms
>>>  Input file: 3 components  cost 169 ms
>>>  Input file: 757539 components  cost 71684 ms
```



